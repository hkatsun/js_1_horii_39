<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<script src="js/jquery-2.1.3.min.js"></script>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.jrumble.1.3.js"></script>

<link rel="stylesheet" href="css/sample.css">
<title>じゃんけん</title>
</head>
<body>

<header>
  <h2>じゃんけん</h2>
  <input type="reset" value="もう一回" id="form">
</header>

<main></main>

<div class="box_wrapper">
  <p>pc</p>
  <div class="pc_box">
    <div id="pc_hands">
      <img src= "./img/pc_gu.png" width="200px" class="shake_left">
    </div>
  </div>
  <div class='you_box'>
    <div id="gu_btn"  class="hand_box"><img src= "./img/you_gu.png" width=100></div>
    <div id="cho_btn" class="hand_box"><img src= "./img/you_cho.png" width=100></div>
    <div id="par_btn" class="hand_box"><img src= "./img/you_par.png" width=100></div>
  </div>
  <p>you</p>
</div>


  <div id="judgment" class="judgment_view">ー</div>
  <div class="total"></div>
  <div class="win"></div>


</main>

<footer>
  copyright(c) 2020 Holly All right reserved. 
</footer>
<script>
//じゃんけん用のSCRIPTを書いてください

// 互いの打ちての勝敗判定

function hands_judgement(hands, pc_hands){

  let judge = "ー";

  if (hands == pc_hands){
    judge = "あいこ"
  }else if (hands=="グー" && pc_hands=="チョキ"){
    judge = "勝ち"
  }else if (hands=="グー" && pc_hands=="パー"){
    judge = "負け"
  }else if (hands=="チョキ" && pc_hands=="グー"){
    judge = "負け"
  }else if (hands=="チョキ" && pc_hands=="パー"){
    judge = "勝ち"
  }else if (hands=="パー" && pc_hands=="グー"){
    judge = "勝ち"
  }else if (hands=="パー" && pc_hands=="チョキ"){
    judge = "負け"
  }
  return judge;
}

// 互いの「手」の表示
function disp_judgement(hands){

  let num = Math.ceil(Math.random()* 3);
  let pc_hands = "ー";
  let judge = "ー";
  $("#pc_hands").html(pc_hands);
  $("#judgment").html(judge);  

  if ( num == 1 ){
    pc_hands = "グー";
    pc_hands_img = '<img src= "./img/pc_gu.png" width=200>';
  }else if ( num == 2 ){
    pc_hands = "チョキ";
    pc_hands_img = '<img src= "./img/pc_cho.png" width=200>';
  }else if ( num == 3 ){
    pc_hands = "パー";
    pc_hands_img = '<img src= "./img/pc_par.png" width=180>';
  };

  judge = hands_judgement(hands, pc_hands);
  // $("#pc_hands").html(pc_hands);
  $("#pc_hands").html(pc_hands_img);
  $("#judgment").html(judge);
}

let var_gu = 0;
let var_cho = 0;
let var_par = 0;
let var_win = 0;
let var_total = 0;

$("#gu_btn").on("click",function(){
  let hands = "グー";
  disp_judgement(hands);
  $(this).html('<img src= "./img/you_gu.png" width=100>');
  var_gu += 1;
  var_total += 1;
  var_win_ratio = (var_win / var_total)*100;   
});

$("#cho_btn").on("click",function(){
  let hands = "チョキ";
  disp_judgement(hands);
  $(this).html('<img src= "./img/you_cho.png" width=100>');
  var_cho += 1;
  var_total += 1;
  var_win_ratio = (var_win / var_total)*100;     
});

$("#par_btn").on("click",function(){
  let hands = "パー";
  disp_judgement(hands);
  $(this).html('<img src= "./img/you_par.png" width=100>');
  var_par += 1;
  var_total += 1;
  var_win_ratio = (var_win / var_total)*100;  
});

$('#gu_btn').on("mouseenter",function () {
  $(this).html('<img src= "./img/you_gu.png" width=200 class="shake_left">');
});

$("#gu_btn").on("mouseleave",function(){
  $(this).html('<img src= "./img/you_gu.png" width=100>');
});

$('#cho_btn').on("mouseenter",function () {
  $(this).html('<img src= "./img/you_cho.png" width=200 class="shake_left">');
});

$("#cho_btn").on("mouseleave",function(){
  $(this).html('<img src= "./img/you_cho.png" width=100>');
});

$('#par_btn').on("mouseenter",function () {
  $(this).html('<img src= "./img/you_par.png" width=200 class="shake_left">');
});

$("#par_btn").on("mouseleave",function(){
  $(this).html('<img src= "./img/you_par.png" width=100>');
});

$('#form').click(function() {
  location.reload();
});

</script>
</body>
</html>
